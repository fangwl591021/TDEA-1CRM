<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>梯次課報名 - 請假選擇系統</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        h1 { color: #333; margin-bottom: 10px; }
        .subtitle { color: #666; margin-bottom: 30px; }
        .course-info { background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 30px; }
        .attendance-section { margin-bottom: 30px; }
        .day-item { display: flex; align-items: center; padding: 15px; border: 2px solid #e9ecef; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s; }
        .day-item:hover { border-color: #4dabf7; background: #f8f9fa; }
        .day-item.selected { border-color: #339af0; background: #e7f5ff; }
        .day-checkbox { margin-right: 15px; transform: scale(1.3); }
        .day-content { flex: 1; }
        .date { font-weight: bold; color: #495057; }
        .time { color: #868e96; margin-left: 10px; }
        .price { color: #40c057; font-weight: bold; float: right; }
        .price-summary { background: #fff3cd; padding: 20px; border-radius: 10px; border: 1px solid #ffeaa7; }
        .price-row { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .total-row { border-top: 2px solid #fab005; padding-top: 15px; margin-top: 10px; font-size: 1.2em; font-weight: bold; }
        .btn-next { background: #339af0; color: white; border: none; padding: 15px 40px; font-size: 18px; border-radius: 8px; cursor: pointer; width: 100%; margin-top: 20px; }
        .btn-next:hover { background: #228be6; }
    </style>
</head>
<body>
    <h1>梯次課報名</h1>
    <p class="subtitle">請勾選您可以出席的日期，請假的天數將不收取費用</p>
    
    <div class="course-info">
        <h2>兒童游泳密集班</h2>
        <p>梯次：第1梯次（7/10-7/14）</p>
        <p>時間：每日 09:00-12:00</p>
        <p>地點：竹北運動島活動中心</p>
    </div>
    
    <div class="attendance-section">
        <h3>請選擇出席日期</h3>
        <div id="day-list">
            <!-- 天數列表會由 JavaScript 產生 -->
        </div>
    </div>
    
    <div class="price-summary">
        <h3>費用計算</h3>
        <div class="price-row">
            <span>原價（5天）：</span>
            <span id="original-price">3600 元</span>
        </div>
        <div class="price-row">
            <span>請假扣除：</span>
            <span id="deduction-amount">-0 元</span>
        </div>
        <div class="price-row total-row">
            <span>實付金額：</span>
            <span id="final-price">3600 元</span>
        </div>
        <div class="price-row">
            <small>請假天數：<span id="absent-days">0</span> 天</small>
        </div>
    </div>
    
    <button class="btn-next" onclick="proceedToRegistration()">下一步：填寫報名資料</button>
    
    <script>
        // 課程資料
        const courseData = {
            title: "兒童游泳密集班",
            batch: "第1梯次（7/10-7/14）",
            totalDays: 5,
            dayPrice: 720,
            totalPrice: 3600,
            schedule: [
                { date: "2024-07-10", day: "三", time: "09:00-12:00" },
                { date: "2024-07-11", day: "四", time: "09:00-12:00" },
                { date: "2024-07-12", day: "五", time: "09:00-12:00" },
                { date: "2024-07-13", day: "六", time: "09:00-12:00" },
                { date: "2024-07-14", day: "日", time: "09:00-12:00" }
            ]
        };
        
        // 初始化
        let selectedDays = Array(courseData.totalDays).fill(true);
        
        // 渲染天數選擇列表
        function renderDayList() {
            const dayList = document.getElementById('day-list');
            dayList.innerHTML = '';
            
            courseData.schedule.forEach((day, index) => {
                const dayItem = document.createElement('div');
                dayItem.className = `day-item ${selectedDays[index] ? 'selected' : ''}`;
                dayItem.onclick = () => toggleDay(index);
                
                dayItem.innerHTML = `
                    <input type="checkbox" class="day-checkbox" ${selectedDays[index] ? 'checked' : ''}>
                    <div class="day-content">
                        <span class="date">${day.date.split('-')[1]}/${day.date.split('-')[2]}（${day.day}）</span>
                        <span class="time">${day.time}</span>
                    </div>
                    <span class="price">${courseData.dayPrice}元</span>
                `;
                
                dayList.appendChild(dayItem);
            });
            
            updatePrice();
        }
        
        // 切換天數選擇
        function toggleDay(index) {
            selectedDays[index] = !selectedDays[index];
            renderDayList();
        }
        
        // 更新價格計算
        function updatePrice() {
            const absentDays = selectedDays.filter(day => !day).length;
            const deduction = absentDays * courseData.dayPrice;
            const finalPrice = courseData.totalPrice - deduction;
            
            document.getElementById('original-price').textContent = `${courseData.totalPrice} 元`;
            document.getElementById('deduction-amount').textContent = `-${deduction} 元`;
            document.getElementById('final-price').textContent = `${finalPrice} 元`;
            document.getElementById('absent-days').textContent = absentDays;
        }
        
        // 下一步
        function proceedToRegistration() {
            const absentDays = selectedDays.filter(day => !day).length;
            alert(`您選擇請假 ${absentDays} 天，實付金額：${courseData.totalPrice - (absentDays * courseData.dayPrice)} 元`);
            // 這裡可以跳轉到報名表單頁面
        }
        
        // 初始渲染
        renderDayList();
    </script>
</body>
</html>
